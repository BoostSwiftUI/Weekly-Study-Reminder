name: Weekly iOS Study Reminder

on:
  schedule:
    # 매주 금요일 오후 6시 30분 KST (UTC 9시 30분)
    - cron: '30 9 * * 5'
  # 수동 실행도 가능하게 (테스트용)
  workflow_dispatch:

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    
    steps:
      - name: Send Discord Reminder
        run: |
          curl -H "Content-Type: application/json" \
               -X POST \
               -d '{
                 "content": "<@&1280400671589273692> \n\n📱 **이번 주 iOS 이야기 나눌 시간이에요!** 🎉\n\n✨ 실무에서 궁금했던 것\n🔧 새로 알게 된 팁이나 라이브러리\n🚨 해결하고 싶은 버그나 이슈\n💡 같이 공부하고 싶은 WWDC 세션\n\n가벼운 마음으로 **스터디-채널**에 포럼 글 올려주세요~ \n바쁘면 패스도 당연히 OK! 🙌✨\n\n> 💬 10분짜리 짧은 팁부터 30분 세션까지, 자유롭게!"
               }' \
               ${{ secrets.DISCORD_WEBHOOK_URL }}

      - name: Log Success
        run: echo "✅ 금요일 알림 전송 완료!"
